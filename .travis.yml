language: java
jdk: oraclejdk8
before_install:
- chmod +x gradlew
before_deploy:
- chmod ugo+x deploy.sh
script:
- bash ./gradlew clean build
- bash ./deploy.sh
env:
  global:
  - GH_REF: github.com/garystafford/microservice-docker-demo-artifacts.git
  - secure: grNPCK61kxjbYjv/+KWyFg+RJLvi8SbUW0O/Wd5lkxBOcxUQibzDd9rr90qbSIUUwfCe8p/KKfnZ/GJ3oFj2Pxzdbqi/fGCdJfc8TSHzg1Ol4gs+YbBAHrzgz03qINWbWhVOTo9DspnFA7gf7hKD6OlmwhGpESBQvyEh5mf/tgomYnYRTWI1H0iA8MPfEM6vfrO9MqkfFXi90AtJKPtgLqWtfh3SwFU7ONYRSsss3VrQ+36djKScm5xjNoiv9P2FTGgMMRqzCOI+cvm6W7Re7X2++FBQFi294EjkeKSrwcDoiEdD2PwDckIvYAa/3rbOMUyUBy54MKTHDIjyTbMwH4kn5XgztQhRRRR3HzS6Mb+xZ7RNhuAkTzpx5LVXeoBovFISJleYA3r/DLXrBSZrqVEAMCyBJDZrfjd+lHcjdR3I9H/H26BxZv56UYskBZ++I4/OYw0qOH7BGLQU4gZLs7R3ghkWzILU7qbG7V7MVKBRGrXJ6Z4a51/YhjdTWYBedpvIvbYbUOfWulwcPTO4V2ZysmwCROzTIU0VxzYbxJjhwcQsyvtIYGZoLl98RNHwTsEGt+61tyGRFqCkW5xEvbFYy1A/43JkflAQ7GZyt0w8cslgBWargZvjdLWFOQmI0gvQ78T9CP73ZFCzSgi9TQkG9lK7aTYIqdRaPBnfStk=
notifications:
  slack:
    secure: lQ9wlH21js1OMwStoDjMjPc/G1zdfE0UdbiR1kVunJ4FIowlLW6JHdU1186Jz8ouXoyzXhpT3NMj617QLm4alznBW0ndreieS9sybjhJS1gMNtLKJR9O2LXAwCWH+tQkXGDVOLygSvR/2Xlom+lFHr5Xg/IgWcGB3CO2pIIML3dOCojUstwKhoYSoxO8LpMFsZtXD+qpKeHTbVF7QSRXb3ghIYC15MNOs508z8Ed7vip5iNn/itUzSPsH1thBY2f80Fq4bh6WvQhvo2SsaUa01lw+btMbXA2FCQ3jAhZZG1SauuWXpEhgQ3IfOuWJRuDXY/kX+Q+dYjGqIH9qTT25svGEeMnUykfW3m1UrPe2G+9tJ9nyfWNxePlm4gWlzZhGha04UxVwBi+5DqiiS231ztDMQ/mWwp2Z6kUAgu97Om5lRov3zDXyI03vKCmiCTJx7NVLOiiWIqNqLth/ALfcdjtnHnwIH6bP+u26EmtHt5WjTP+PFbqIsFcLLtEQRlsFhUPhJY/2xO+jQrt0prYB0LC8hO9jDct9VIgju3D2y2BenecewV/GrHMVjhXxYbsW1gNAckZ34ZFUkfMRJegpCt81/vhhkrgJPmBespONROrcPI2ILSJTAXbUuwRIZ8Dcrnmg8/P/MbNsAIxrY4jH7RHV1JWM7/aoFaLsCUpj00=
